# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ "–ë–æ–∫–æ–≤–∏–∫" —Ä–µ—à–µ–Ω–∞!

–ú–æ–¥–µ–ª—å —Ç–µ–ø–µ—Ä—å –ø–æ–ª—É—á–∞–µ—Ç –≤—Å–µ **172 features** –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç LONG/SHORT/SIDEWAYS.

## –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ (30 —Å–µ–∫—É–Ω–¥)

```bash
python test_features_simple.py
```

**–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:**
```
‚úÖ All 172 model features are present!
‚úÖ Prediction: LONG (confidence: 62.45%)
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ ‚ùå –æ—à–∏–±–∫–∏ - —Å–æ–æ–±—â–∏—Ç–µ, —á—Ç–æ –∏–º–µ–Ω–Ω–æ.

## –®–∞–≥ 2: –ó–∞–ø—É—Å–∫ paper trading

```bash
python scripts/paper_trading_v8_ws.py
```

**–û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏:**
```
INFO | Loaded 172 features
INFO | First 10 features: ['m5_return_1', 'm5_return_5', ...]
INFO | WS Thread started
INFO | Monitoring 20 pairs. Waiting for signals...

# –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏:
INFO | BTC/USDT: Dir=2 (conf=0.65) - Proba: [[0.15 0.20 0.65]]
INFO | ETH/USDT: Dir=0 (conf=0.58) - Proba: [[0.58 0.25 0.17]]
```

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å?

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ `paper_trading_v8_ws.py`:

1. **–î–æ–±–∞–≤–ª–µ–Ω—ã volume features** (6 —à—Ç—É–∫):
   - `vol_sma_20`, `vol_ratio`, `vol_zscore`
   - `vwap`, `price_vs_vwap`, `vol_momentum`

2. **–£–ª—É—á—à–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è**:
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ missing features
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ NaN –∑–Ω–∞—á–µ–Ω–∏–π
   - –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫

3. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ**:
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ features
   - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç –æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö features

## –ï—Å–ª–∏ –≤—Å—ë –µ—â—ë –≤–∏–¥–∏—Ç–µ "–±–æ–∫–æ–≤–∏–∫"

### –í–∞—Ä–∏–∞–Ω—Ç 1: –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!
–ï—Å–ª–∏ —Ä—ã–Ω–æ–∫ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –≤ –±–æ–∫–æ–≤–∏–∫–µ (–Ω–∏–∑–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å), –º–æ–¥–µ–ª—å **–ø—Ä–∞–≤–∏–ª—å–Ω–æ** –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç SIDEWAYS.

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ú–æ–¥–µ–ª—å –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–∞—è
–°–Ω–∏–∑—å—Ç–µ –ø–æ—Ä–æ–≥–∏ –≤ `paper_trading_v8_ws.py`:

```python
MIN_CONF = 0.45      # –±—ã–ª–æ 0.50
MIN_TIMING = 0.50    # –±—ã–ª–æ 0.55
MIN_STRENGTH = 1.2   # –±—ã–ª–æ 1.4
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
- WebSocket –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ: `streamer.current_prices` –Ω–µ –ø—É—Å—Ç–æ–π
- –î–∞–Ω–Ω—ã–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ (–Ω–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤)
- –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏—Å—Ç–æ—Ä–∏–∏ –¥–ª—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ (LOOKBACK = 500)

## –§–∞–π–ª—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è

- üìò `CHANGES_SUMMARY.md` - –ü–æ–ª–Ω–∞—è —Å–≤–æ–¥–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- üìó `FIX_SIDEWAYS_ISSUE.md` - –î–µ—Ç–∞–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è
- üß™ `test_features_simple.py` - –¢–µ—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ features

## –ì–æ—Ä—è—á–∞—è –ª–∏–Ω–∏—è üÜò

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ features
python test_features_simple.py

# 2. –ï—Å–ª–∏ —Ç–µ—Å—Ç –û–ö, –Ω–æ paper trading –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
python scripts/paper_trading_v8_ws.py 2>&1 | tee debug.log

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥:
grep -i "error\|missing\|nan" debug.log
```

---

**–ì–æ—Ç–æ–≤–æ!** –ó–∞–ø—É—Å–∫–∞–π—Ç–µ –∏ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ. –£–¥–∞—á–∏! üöÄ

