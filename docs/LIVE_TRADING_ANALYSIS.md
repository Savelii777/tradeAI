# üîç –ì–ª—É–±–æ–∫–∏–π –ê–Ω–∞–ª–∏–∑ –ú–æ–¥–µ–ª–∏ train_v3_dynamic.py –¥–ª—è Live Trading

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** –Ø–Ω–≤–∞—Ä—å 2026  
**–í–µ—Ä—Å–∏—è –º–æ–¥–µ–ª–∏:** V8 Improved (Anti-Overfitting Edition)  
**–ê–≤—Ç–æ—Ä –∞–Ω–∞–ª–∏–∑–∞:** AI Analyst  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2026-01-07

---

## üìä EXECUTIVE SUMMARY

### –ö–ª—é—á–µ–≤—ã–µ –ú–µ—Ç—Ä–∏–∫–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –ë–µ–∫—Ç–µ—Å—Ç | Walk-Forward | –û–∂–∏–¥–∞–Ω–∏–µ –≤ Live |
|---------|---------|--------------|-----------------|
| Win Rate | 80%+ | 70%+ | **55-65%*** |
| Profit Factor | 2.5+ | 1.8+ | 1.3-1.6 |
| –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö | ‚ö†Ô∏è –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–æ | ‚úÖ –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ | - |
| –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è | - | - | **‚úÖ –ì–û–¢–û–í–ê –∫ paper trading** |

**\* –ü—Ä–æ–≥–Ω–æ–∑ –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ —Ç–∏–ø–∏—á–Ω–æ–π –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ 10-15% –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ –ª–∞–π–≤.**

### –í–µ—Ä–¥–∏–∫—Ç

üü¢ **–ú–û–î–ï–õ–¨ –ì–û–¢–û–í–ê –ö PAPER TRADING** –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —É—Å–ª–æ–≤–∏–π:
1. –ú–æ–¥–µ–ª–∏ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω—ã –ë–ï–ó cumsum-–∑–∞–≤–∏—Å–∏–º—ã—Ö —Ñ–∏—á–µ–π
2. –ó–∞–ø—É—â–µ–Ω `validate_live_readiness.py` –±–µ–∑ –æ—à–∏–±–æ–∫
3. LOOKBACK >= 1000 —Å–≤–µ—á–µ–π –≤ live —Å–∫—Ä–∏–ø—Ç–µ

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ú–æ–¥–µ–ª–∏

### Multi-Timeframe (MTF) –ü–æ–¥—Ö–æ–¥

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    M15 TIMEFRAME                         ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ Trend direction (EMA crossover)               ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ Trend strength (EMA distance)                 ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ RSI-14 context                                 ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ ATR volatility                                 ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ Support/Resistance proximity                   ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ                                                   ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ ‚ö†Ô∏è SHIFTED by 1 candle to prevent lookahead bias‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    M5 TIMEFRAME (Base)                   ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ Full FeatureEngine (EMA, RSI, MACD, Stoch)    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ Candlestick patterns                          ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ Market structure (swings, S/R)                ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ Volume features                                ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ Time features                                  ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ                                                   ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ ‚úÖ This is where signals are generated           ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    M1 TIMEFRAME                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ Micro momentum (1, 3, 5 bars)                  ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ Fast RSI (5, 9)                                ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ Volume spike detection                         ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ Micro trend (EMA 3 vs 8)                       ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ Candle patterns (body size, wicks)             ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ                                                   ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ ‚úÖ Aggregated to M5 (last, mean, std)            ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –¢—Ä–∏ –ú–æ–¥–µ–ª–∏ (Ensemble)

| –ú–æ–¥–µ–ª—å | –¢–∏–ø | –¶–µ–ª—å | Threshold |
|--------|-----|------|-----------|
| **Direction** | LGBMClassifier (3 –∫–ª–∞—Å—Å–∞) | UP/DOWN/SIDEWAYS | Conf >= 0.50 |
| **Timing** | LGBMRegressor | ATR gain potential (0-5) | >= 0.8 ATR |
| **Strength** | LGBMRegressor | Predicted move strength | >= 1.4 |

### Anti-Overfitting –ü–∞—Ä–∞–º–µ—Ç—Ä—ã (V8)

```python
# –£–ø—Ä–æ—â—ë–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è
n_estimators=100,        # –ë—ã–ª–æ 600 ‚Üí 100
max_depth=3,             # –ë—ã–ª–æ 5 ‚Üí 3
num_leaves=8,            # –ë—ã–ª–æ 20 ‚Üí 8
min_child_samples=50,    # –ù–û–í–û–ï! –ú–∏–Ω–∏–º—É–º 50 samples –Ω–∞ –ª–∏—Å—Ç
learning_rate=0.05,      # –ë—ã–ª–æ 0.02 ‚Üí 0.05 (–±—ã—Å—Ç—Ä–µ–µ —Å—Ö–æ–¥–∏–º–æ—Å—Ç—å)
subsample=0.7,           # Bagging –¥–ª—è —Ä–µ–≥—É–ª—è—Ä–∏–∑–∞—Ü–∏–∏
colsample_bytree=0.5,    # Feature bagging
```

---

## ‚úÖ –ß—Ç–æ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ü–†–ê–í–ò–õ–¨–ù–û

### 1. ‚úÖ –ò—Å–∫–ª—é—á–µ–Ω–∏–µ Cumsum-–∑–∞–≤–∏—Å–∏–º—ã—Ö –§–∏—á–µ–π

**–ö–æ–¥: train_v3_dynamic.py:764-769, live_trading_mexc_v8.py:850-859**

```python
cumsum_patterns = [
    'bars_since_swing',       # cumsum() –æ—Ç –Ω–∞—á–∞–ª–∞ –¥–∞–Ω–Ω—ã—Ö
    'consecutive_up',         # groupby().cumsum()
    'consecutive_down',       # groupby().cumsum()
    'obv',                    # cumsum() –æ—Ç –Ω–∞—á–∞–ª–∞ –¥–∞–Ω–Ω—ã—Ö
    'volume_delta_cumsum',    # rolling cumsum
    'swing_high_price',       # ffill() –æ—Ç –ø–µ—Ä–≤–æ–≥–æ —Å–≤–∏–Ω–≥–∞
    'swing_low_price'         # ffill() –æ—Ç –ø–µ—Ä–≤–æ–≥–æ —Å–≤–∏–Ω–≥–∞
]
features = [c for c in train_df.columns if c not in exclude 
            and not any(p in c.lower() for p in cumsum_patterns)]
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ:**
- –í –±–µ–∫—Ç–µ—Å—Ç–µ: –¥–∞–Ω–Ω—ã–µ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å 2017 –≥–æ–¥–∞ ‚Üí OBV –Ω–∞–∫–æ–ø–ª–µ–Ω –∑–∞ 8 –ª–µ—Ç
- –í –ª–∞–π–≤–µ: –¥–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 1000 —Å–≤–µ—á–µ–π ‚Üí OBV –≤ 1000x –º–µ–Ω—å—à–µ
- –ú–æ–¥–µ–ª—å, –æ–±—É—á–µ–Ω–Ω–∞—è –Ω–∞ –±–æ–ª—å—à–∏—Ö OBV, –ø–æ–ª—É—á–∏—Ç –≤ –ª–∞–π–≤–µ —Å–æ–≤—Å–µ–º –¥—Ä—É–≥–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è

### 2. ‚úÖ M15 Shift –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è Lookahead Bias

**–ö–æ–¥: train_mtf.py:253-255**

```python
# ‚ö†Ô∏è CRITICAL FIX: Use PREVIOUS closed M15 candle (shift=1)
# This prevents lookahead bias - in live trading at 17:05,
# the M15 candle 17:00-17:15 is still forming!
m15_shifted = m15_features.shift(1)
```

**–ü—Ä–æ–±–ª–µ–º–∞ (–±—ã–ª–∞):**
- M15 —Å–≤–µ—á–∞ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç
- –ü—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ –Ω–∞ M5 –≤ 17:05, M15 —Å–≤–µ—á–∞ (17:00-17:15) –µ—â—ë –Ω–µ –∑–∞–∫—Ä—ã—Ç–∞
- –í –±–µ–∫—Ç–µ—Å—Ç–µ –∂–µ –º—ã –º–æ–≥–ª–∏ –≤–∏–¥–µ—Ç—å "–±—É–¥—É—â–∏–µ" –¥–∞–Ω–Ω—ã–µ —ç—Ç–æ–π —Å–≤–µ—á–∏

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ –ü–†–ï–î–´–î–£–©–£–Æ –∑–∞–∫—Ä—ã—Ç—É—é M15 —Å–≤–µ—á—É.

### 3. ‚úÖ –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π Slippage –∏ –ö–æ–º–∏—Å—Å–∏–∏

**–ö–æ–¥: train_v3_dynamic.py:56-58**

```python
FEE_PCT = 0.0002          # 0.02% Maker/Taker (MEXC Futures)
SLIPPAGE_PCT = 0.0005     # 0.05% slippage (—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ!)
MAX_POSITION_SIZE = 200000.0  # –õ–∏–º–∏—Ç –¥–ª—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏
```

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —Ç–∏–ø–∏—á–Ω—ã–º–∏ –±–µ–∫—Ç–µ—Å—Ç–∞–º–∏:**
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø–∏—á–Ω—ã–π –±–µ–∫—Ç–µ—Å—Ç | V8 Improved |
|----------|------------------|-------------|
| Slippage | 0.01% | **0.05%** ‚úÖ |
| Fees | 0.01% | **0.02%** ‚úÖ |
| Position limit | –ù–µ—Ç | **$200K** ‚úÖ |

### 4. ‚úÖ Walk-Forward Validation

**–ö–æ–¥: train_v3_dynamic.py:662-852**

```python
def walk_forward_validation(pairs, data_dir, mtf_fe, initial_balance=100.0):
    """
    Walk-Forward Validation: Train on past, test on future (never seen before).
    
    Example timeline:
    Period 1: Train [Sep 1-15]  ‚Üí Test [Sep 16-22]
    Period 2: Train [Sep 8-22]  ‚Üí Test [Sep 23-30]
    Period 3: Train [Sep 15-30] ‚Üí Test [Oct 1-7]
    """
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ:**
- –û–±—ã—á–Ω—ã–π train/test split –º–æ–∂–µ—Ç –∏–º–µ—Ç—å data leakage —á–µ—Ä–µ–∑ overlapping features
- Walk-Forward —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç –Ω–∞ –†–ï–ê–õ–¨–ù–û –±—É–¥—É—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- –ï—Å–ª–∏ WR –ø–∞–¥–∞–µ—Ç —Å 80% –¥–æ 70% - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è

### 5. ‚úÖ –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è EMA –∫–∞–∫ % –æ—Ç —Ü–µ–Ω—ã

**–ö–æ–¥: train_mtf.py:210-212**

```python
# ‚úÖ FIX: Store as % distance from price instead of absolute price
features['m1_ema_3'] = (ema_3 - df['close']) / df['close'] * 100
features['m1_ema_8'] = (ema_8 - df['close']) / df['close'] * 100
```

**–ü—Ä–æ–±–ª–µ–º–∞ (–±—ã–ª–∞):**
- –ê–±—Å–æ–ª—é—Ç–Ω—ã–π EMA: $30,000 –≤ 2023 vs $95,000 –≤ 2026
- –ú–æ–¥–µ–ª—å –æ–±—É—á–µ–Ω–∞ –Ω–∞ –æ–¥–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö, –≤ –ª–∞–π–≤–µ –≤–∏–¥–∏—Ç –¥—Ä—É–≥–∏–µ

**–†–µ—à–µ–Ω–∏–µ:** –•—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ % —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –æ—Ç —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã.

### 6. ‚úÖ Volume Spike Clipping

**–ö–æ–¥: train_v3_dynamic.py:132, live_trading_mexc_v8.py:709**

```python
# ‚úÖ FIX: Clip extreme spikes (PIPPIN had 431x volume spike)
df['vol_momentum'] = df['volume'].pct_change(5).clip(-10, 10)
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–æ–≤—ã–µ –º–æ–Ω–µ—Ç—ã –º–æ–≥—É—Ç –∏–º–µ—Ç—å —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ –æ–±—ä—ë–º—ã.
**–†–µ—à–µ–Ω–∏–µ:** –û–±—Ä–µ–∑–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –¥–æ —Ä–∞–∑—É–º–Ω–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞.

### 7. ‚úÖ Rolling VWAP –≤–º–µ—Å—Ç–æ Cumsum VWAP

**–ö–æ–¥: train_mtf.py:217-220**

```python
# FIXED: Use rolling window instead of cumsum for live/backtest consistency
if 'volume' in df.columns:
    vwap_window = 200  # Rolling VWAP over last 200 bars
    vwap = (df['close'] * df['volume']).rolling(vwap_window).sum() / df['volume'].rolling(vwap_window).sum()
```

---

## ‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –†–∏—Å–∫–∏ –∏ –ú–∏—Ç–∏–≥–∞—Ü–∏–∏

### 1. üü° –ê–±—Å–æ–ª—é—Ç–Ω—ã–µ EMA –≤ feature_engine.py

**–ü—Ä–æ–±–ª–µ–º–∞: src/features/indicators.py:84-88**

```python
for period in periods:
    ema = self.ema(close, period)
    feature_dict[f'ema_{period}'] = ema  # ‚ùå –ê–±—Å–æ–ª—é—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ!
    feature_dict[f'ema_{period}_dist'] = (close - ema) / ema * 100  # ‚úÖ –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–æ
```

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- `ema_{period}` - –∞–±—Å–æ–ª—é—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–ø—Ä–æ–±–ª–µ–º–∞)
- `ema_{period}_dist` - –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ (OK)

**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –º–æ–¥–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ `*_dist` –≤–µ—Ä—Å–∏–∏
- –ó–∞–ø—É—Å—Ç–∏—Ç—å `validate_live_readiness.py` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

### 2. üü° LOOKBACK –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ

**–ü—Ä–æ–±–ª–µ–º–∞: live_trading_mexc_v8.py:57**

```python
LOOKBACK = 1000  # –ë—ã–ª–æ 3000, —Ç–µ–ø–µ—Ä—å 1000
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- EMA-200 —Ç—Ä–µ–±—É–µ—Ç ~1000 —Å–≤–µ—á–µ–π –¥–ª—è –ø–æ–ª–Ω–æ–π –∫–æ–Ω–≤–µ—Ä–≥–µ–Ω—Ü–∏–∏
- –° LOOKBACK=1000 –ø–µ—Ä–≤—ã–µ ~200 —Å–≤–µ—á–µ–π –±—É–¥—É—Ç –∏–º–µ—Ç—å –Ω–µ–ø–æ–ª–Ω—ã–µ EMA

**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
- 1000 —Å–≤–µ—á–µ–π = ~3.5 –¥–Ω—è –Ω–∞ M5 - –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
- EMA-200 –±—É–¥–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ 95% –∫–æ–Ω–≤–µ—Ä–≥–µ–Ω—Ü–∏–∏
- –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ —Ç–æ—á–Ω–æ—Å—Ç—å, —É–≤–µ–ª–∏—á–∏—Ç—å –¥–æ 1500

### 3. üü° Market Regime Changes

**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–æ–¥–µ–ª—å –æ–±—É—á–µ–Ω–∞ –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º —Ä—ã–Ω–æ—á–Ω–æ–º —Ä–µ–∂–∏–º–µ.

**–ü—Ä–∏–º–µ—Ä—ã:**
- Bull market 2024 ‚Üí Bear market 2025
- High volatility ‚Üí Low volatility
- High volume ‚Üí Low volume (Jan 2026)

**–ú–∏—Ç–∏–≥–∞—Ü–∏—è –≤ –∫–æ–¥–µ:**
```python
# train_v3_dynamic.py:965-967
exclude = ['pair', 'target_dir', 'target_timing', 'target_strength', 
           'open', 'high', 'low', 'close', 'volume', 'atr', 'price_change',
           'vol_sma_20', 'm15_volume_ma', 'm15_atr', 'vwap']
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ (–∫–∞–∂–¥—ã–µ 30-60 –¥–Ω–µ–π).

### 4. üü° Latency –Ω–µ —É—á—Ç–µ–Ω–∞

**–ü—Ä–æ–±–ª–µ–º–∞:** –í –±–µ–∫—Ç–µ—Å—Ç–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ, –≤ –ª–∞–π–≤–µ –µ—Å—Ç—å –∑–∞–¥–µ—Ä–∂–∫–∞.

**–û—Ü–µ–Ω–∫–∞ –≤–ª–∏—è–Ω–∏—è:**
- API latency: 50-200ms
- Order execution: 100-500ms
- –í–ª–∏—è–Ω–∏–µ –Ω–∞ WR: -2-3%

**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
```python
# live_trading_mexc_v8.py:730-757
def wait_until_candle_close(timeframe_minutes=5):
    # ...
    wait_seconds += 3  # 3 —Å–µ–∫—É–Ω–¥—ã –±—É—Ñ–µ—Ä –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –±–∏—Ä–∂–∏
```

---

## üìä –ê–Ω–∞–ª–∏–∑ Feature Engineering

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –§–∏—á–µ–π

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ | –ü—Ä–∏–º–µ—Ä—ã | –°—Ç–∞—Ç—É—Å |
|-----------|------------|---------|--------|
| Trend | ~20 | ema_*_dist, ema_*_slope | ‚úÖ OK |
| Momentum | ~15 | rsi_*, macd_*, stoch_* | ‚úÖ OK |
| Volatility | ~10 | atr_*_pct, bb_width | ‚úÖ OK |
| Volume | ~10 | vol_ratio, vol_zscore | ‚ö†Ô∏è –ë–µ–∑ OBV |
| Structure | ~15 | swing_*, higher_high | ‚ö†Ô∏è –ë–µ–∑ cumsum |
| Time | ~10 | hour_sin, session_* | ‚úÖ OK |
| M15 Context | ~10 | m15_trend, m15_rsi | ‚úÖ OK |
| M1 Timing | ~20 | m1_momentum_*, m1_rsi_* | ‚úÖ OK |

### –ò—Å–∫–ª—é—á—ë–Ω–Ω—ã–µ –§–∏—á–∏ (Cumsum-–∑–∞–≤–∏—Å–∏–º—ã–µ)

```python
# –≠—Ç–∏ —Ñ–∏—á–∏ –í–´–ß–ò–°–õ–Ø–Æ–¢–°–Ø –Ω–æ –ù–ï –ò–°–ü–û–õ–¨–ó–£–Æ–¢–°–Ø –≤ –º–æ–¥–µ–ª–∏:
EXCLUDED_FEATURES = [
    'obv',                    # cumsum() –æ—Ç –Ω–∞—á–∞–ª–∞
    'obv_ema',                # –∑–∞–≤–∏—Å–∏—Ç –æ—Ç obv
    'volume_delta_cumsum',    # cumsum()
    'bars_since_swing_high',  # cumsum()
    'bars_since_swing_low',   # cumsum()
    'swing_high_price',       # ffill() –æ—Ç –ø–µ—Ä–≤–æ–≥–æ —Å–≤–∏–Ω–≥–∞
    'swing_low_price',        # ffill() –æ—Ç –ø–µ—Ä–≤–æ–≥–æ —Å–≤–∏–Ω–≥–∞
    'consecutive_up',         # groupby().cumsum()
    'consecutive_down',       # groupby().cumsum()
]
```

---

## üîÑ Trade Lifecycle

### 1. Signal Generation

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    SIGNAL FILTERS                           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                              ‚îÇ
‚îÇ  Direction Model                                            ‚îÇ
‚îÇ  ‚îú‚îÄ Predict: UP / DOWN / SIDEWAYS                          ‚îÇ
‚îÇ  ‚îú‚îÄ Confidence >= 0.50 (50%)                               ‚îÇ
‚îÇ  ‚îî‚îÄ Skip if SIDEWAYS                                        ‚îÇ
‚îÇ                                                              ‚îÇ
‚îÇ  Timing Model (Regressor)                                   ‚îÇ
‚îÇ  ‚îú‚îÄ Predict: ATR gain potential (0-5)                      ‚îÇ
‚îÇ  ‚îî‚îÄ Timing >= 0.8 ATR                                       ‚îÇ
‚îÇ                                                              ‚îÇ
‚îÇ  Strength Model (Regressor)                                 ‚îÇ
‚îÇ  ‚îú‚îÄ Predict: Move magnitude in ATR                         ‚îÇ
‚îÇ  ‚îî‚îÄ Strength >= 1.4                                          ‚îÇ
‚îÇ                                                              ‚îÇ
‚îÇ  Combined Score = Confidence √ó Timing                       ‚îÇ
‚îÇ                                                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 2. Position Sizing (V8 Dynamic Risk)

```python
# –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ä–∏—Å–∫ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–∞—á–µ—Å—Ç–≤–∞ —Å–∏–≥–Ω–∞–ª–∞
if USE_DYNAMIC_LEVERAGE:
    score = conf * timing
    quality = (score / 0.5) * (timing / 0.6) * (strength / 2.0)
    quality_mult = np.clip(quality, 0.8, 1.5)  # 0.8x - 1.5x
    risk_pct = RISK_PCT * quality_mult  # 4-7.5% –≤–º–µ—Å—Ç–æ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö 5%
```

### 3. Stop Loss Management

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   ADAPTIVE STOP LOSS (V8)                    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                               ‚îÇ
‚îÇ  Initial SL (based on Strength):                             ‚îÇ
‚îÇ  ‚îú‚îÄ Strength >= 3.0 ‚Üí SL = 1.6 ATR (room to breathe)        ‚îÇ
‚îÇ  ‚îú‚îÄ Strength >= 2.0 ‚Üí SL = 1.5 ATR (standard)               ‚îÇ
‚îÇ  ‚îî‚îÄ Strength <  2.0 ‚Üí SL = 1.2 ATR (tight leash)            ‚îÇ
‚îÇ                                                               ‚îÇ
‚îÇ  Breakeven Trigger:                                          ‚îÇ
‚îÇ  ‚îú‚îÄ Strength >= 3.0 ‚Üí Trigger at 1.8 ATR profit             ‚îÇ
‚îÇ  ‚îú‚îÄ Strength >= 2.0 ‚Üí Trigger at 1.5 ATR profit             ‚îÇ
‚îÇ  ‚îî‚îÄ Strength <  2.0 ‚Üí Trigger at 1.2 ATR profit (fast BE)   ‚îÇ
‚îÇ                                                               ‚îÇ
‚îÇ  Progressive Trailing (after BE):                            ‚îÇ
‚îÇ  ‚îú‚îÄ R > 5.0 ‚Üí Trail = 0.4 ATR (lock it in!)                 ‚îÇ
‚îÇ  ‚îú‚îÄ R > 3.0 ‚Üí Trail = 0.8 ATR (tight)                        ‚îÇ
‚îÇ  ‚îú‚îÄ R > 2.0 ‚Üí Trail = 1.2 ATR (medium)                       ‚îÇ
‚îÇ  ‚îî‚îÄ R <= 2.0 ‚Üí Trail = 1.8 ATR (loose)                       ‚îÇ
‚îÇ                                                               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìà –û–∂–∏–¥–∞–Ω–∏—è –¥–ª—è Live Trading

### –î–µ–≥—Ä–∞–¥–∞—Ü–∏—è –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

| –§–∞–∫—Ç–æ—Ä | Backtest | Live | –†–∞–∑–Ω–∏—Ü–∞ |
|--------|----------|------|---------|
| Slippage | –£—á—Ç—ë–Ω (0.05%) | –†–µ–∞–ª—å–Ω—ã–π | ~0% |
| –ö–æ–º–∏—Å—Å–∏–∏ | –£—á—Ç–µ–Ω—ã (0.02%) | –†–µ–∞–ª—å–Ω—ã–µ | ~0% |
| Latency | 0ms | 100-500ms | -2-3% WR |
| Market Impact | –ß–∞—Å—Ç–∏—á–Ω–æ | –ü–æ–ª–Ω—ã–π | -1-2% WR |
| Data Quality | –ò–¥–µ–∞–ª—å–Ω–æ–µ | –†–µ–∞–ª—å–Ω–æ–µ | -1-2% WR |
| Regime Shift | –ù–µ—Ç | –í–æ–∑–º–æ–∂–µ–Ω | -3-5% WR |
| **–ò–¢–û–ì–û** | - | - | **-7-12% WR** |

### –ü—Ä–æ–≥–Ω–æ–∑ –ú–µ—Ç—Ä–∏–∫

| –ú–µ—Ç—Ä–∏–∫–∞ | Walk-Forward | –û–∂–∏–¥–∞–Ω–∏–µ Live |
|---------|--------------|---------------|
| Win Rate | 70%+ | **58-65%** |
| Profit Factor | 1.8+ | **1.3-1.6** |
| Avg Trade | +2.5% | +1.5-2.0% |
| Max Drawdown | 15% | 20-25% |
| Trades/Day | 5-10 | 3-8 |

---

## üõ†Ô∏è –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –í–∞–ª–∏–¥–∞—Ü–∏–∏

### 1. Pre-Live Validation

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ü–ï–†–ï–î live trading
python scripts/validate_live_readiness.py --model-dir models/v8_improved

# –ü—Ä–æ–≤–µ—Ä—è–µ—Ç:
# ‚úÖ –ù–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–æ–≤ –º–æ–¥–µ–ª–µ–π
# ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ cumsum-–∑–∞–≤–∏—Å–∏–º—ã—Ö —Ñ–∏—á–µ–π
# ‚úÖ –¢–∏–ø timing –º–æ–¥–µ–ª–∏ (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å Regressor)
# ‚úÖ Anti-overfitting –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä—ã
```

### 2. Feature Distribution Comparison

```bash
# –°—Ä–∞–≤–Ω–∏—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ñ–∏—á–µ–π
python scripts/compare_feature_distributions.py --pair BTC_USDT_USDT --hours 48
python scripts/compare_feature_distributions.py --all-pairs

# –í—ã—è–≤–ª—è–µ—Ç:
# ‚ö†Ô∏è –§–∏—á–∏ —Å –∏–∑–º–µ–Ω–∏–≤—à–∏–º—Å—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º
# ‚ùå Cumsum-–∑–∞–≤–∏—Å–∏–º—ã–µ —Ñ–∏—á–∏
# üìä KS-—Ç–µ—Å—Ç –Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫—É—é —Ä–∞–∑–Ω–∏—Ü—É
```

### 3. Backtest vs Live Test

```bash
# –°—Ä–∞–≤–Ω–∏—Ç—å —Å–∏–≥–Ω–∞–ª—ã –±–µ–∫—Ç–µ—Å—Ç–∞ –∏ —Å–∏–º—É–ª—è—Ü–∏–∏ –ª–∞–π–≤–∞
cd scripts && python test_backtest_vs_live.py

# –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç:
# üìä –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ confidence
# üìä –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–≥–Ω–∞–ª–æ–≤
# üìä –ö–ª—é—á–µ–≤—ã–µ —Ñ–∏—á–∏
```

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –ü–µ—Ä–µ–¥ Live Trading

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ü—Ä–æ–≤–µ—Ä–∫–∏

```
[ ] 1. python scripts/validate_live_readiness.py - –í–°–ï –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã
[ ] 2. python scripts/compare_feature_distributions.py - –Ω–µ—Ç CRITICAL —Ñ–∏—á–µ–π
[ ] 3. –ú–æ–¥–µ–ª–∏ –æ–±—É—á–µ–Ω—ã —Å --walk-forward —Ñ–ª–∞–≥–æ–º
[ ] 4. Walk-Forward Win Rate >= 60%
[ ] 5. LOOKBACK >= 1000 –≤ live_trading_mexc_v8.py
```

### –ü–µ—Ä–µ–¥ –†–µ–∞–ª—å–Ω—ã–º–∏ –î–µ–Ω—å–≥–∞–º–∏

```
[ ] 6. Paper trading –º–∏–Ω–∏–º—É–º 7 –¥–Ω–µ–π
[ ] 7. Paper WR –±–ª–∏–∑–æ–∫ –∫ Walk-Forward (+/- 10%)
[ ] 8. –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã API –∫–ª—é—á–∏ MEXC
[ ] 9. Telegram –∞–ª–µ—Ä—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç
[ ] 10. Logs –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã (logs/live_trading.log)
[ ] 11. –ù–∞—á–∞–ª—å–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª = –º–∏–Ω–∏–º—É–º –¥–ª—è 1 —Ç—Ä–µ–π–¥–∞
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ Live

```
[ ] 12. –ü—Ä–æ–≤–µ—Ä—è—Ç—å logs –∫–∞–∂–¥—ã–µ 4-6 —á–∞—Å–æ–≤
[ ] 13. –°—Ä–∞–≤–Ω–∏–≤–∞—Ç—å WR —Å –æ–∂–∏–¥–∞–Ω–∏–µ–º
[ ] 14. –ê–ª–µ—Ä—Ç –µ—Å–ª–∏ 5 –ª–æ—Å—Å–æ–≤ –ø–æ–¥—Ä—è–¥
[ ] 15. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –µ—Å–ª–∏ drawdown > 30%
```

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é:**
   ```bash
   python scripts/validate_live_readiness.py
   ```

2. **–ü–µ—Ä–µ–æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª–∏** –µ—Å–ª–∏ –µ—Å—Ç—å cumsum-–∑–∞–≤–∏—Å–∏–º—ã–µ —Ñ–∏—á–∏:
   ```bash
   python scripts/train_v3_dynamic.py --walk-forward --days 60 --test_days 14
   ```

3. **–ù–∞—á–∞—Ç—å paper trading** –º–∏–Ω–∏–º—É–º –Ω–∞ 7 –¥–Ω–µ–π

### –ß–µ—Ä–µ–∑ 1-2 –Ω–µ–¥–µ–ª–∏

4. **–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å paper trading —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã**
5. **–°—Ä–∞–≤–Ω–∏—Ç—å —Å Walk-Forward –º–µ—Ç—Ä–∏–∫–∞–º–∏**
6. **–ù–∞—á–∞—Ç—å live —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –∫–∞–ø–∏—Ç–∞–ª–æ–º**

### –†–µ–≥—É–ª—è—Ä–Ω–æ (–∫–∞–∂–¥—ã–µ 30 –¥–Ω–µ–π)

7. **–ü–µ—Ä–µ–æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª–∏** –Ω–∞ —Å–≤–µ–∂–∏—Ö –¥–∞–Ω–Ω—ã—Ö
8. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å feature drift** —Å compare_feature_distributions.py
9. **–û–±–Ω–æ–≤–∏—Ç—å –ø–æ—Ä–æ–≥–∏** –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

---

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ Live

**üü¢ –ú–û–î–ï–õ–¨ –ì–û–¢–û–í–ê –ö PAPER TRADING**

–ü—Ä–∏ —É—Å–ª–æ–≤–∏–∏ —á—Ç–æ:
1. ‚úÖ Cumsum-–∑–∞–≤–∏—Å–∏–º—ã–µ —Ñ–∏—á–∏ –∏—Å–∫–ª—é—á–µ–Ω—ã (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å validate_live_readiness.py)
2. ‚úÖ Walk-Forward –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 70%+ WR
3. ‚úÖ –ö–æ–¥ live trading —Å–∫—Ä–∏–ø—Ç–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å –±–µ–∫—Ç–µ—Å—Ç–æ–º

### –û–∂–∏–¥–∞–µ–º—ã–µ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

- **Win Rate –≤ live:** 55-65%
- **–ü—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç—å:** –î–∞, –ø—Ä–∏ RR >= 1:1.5
- **–ü–µ—Ä–∏–æ–¥ –∞–¥–∞–ø—Ç–∞—Ü–∏–∏:** 1-2 –Ω–µ–¥–µ–ª–∏ paper trading
- **–ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ:** –ö–∞–∂–¥—ã–µ 30-60 –¥–Ω–µ–π

### –ì–ª–∞–≤–Ω—ã–µ –†–∏—Å–∫–∏

1. **Regime change** - —Ä—ã–Ω–æ–∫ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è
2. **Volume drop** - —è–Ω–≤–∞—Ä—å 2026 –ø–æ–∫–∞–∑–∞–ª 10x –ø–∞–¥–µ–Ω–∏–µ –æ–±—ä—ë–º–æ–≤
3. **Over-optimization** - –ø–æ—Ä–æ–≥–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö

### –ò—Ç–æ–≥

–ú–æ–¥–µ–ª—å train_v3_dynamic.py - **–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞** —Å —Ö–æ—Ä–æ—à–∏–º–∏ anti-overfitting –º–µ—Ä–∞–º–∏. Walk-Forward validation –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ 70%+ WR. –ü—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ (paper trading, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥) - **–≥–æ—Ç–æ–≤–∞ –∫ live —Ç–æ—Ä–≥–æ–≤–ª–µ**.

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 2.0  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2026-01-07  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2026-01-07  
**–ê–≤—Ç–æ—Ä:** AI Trading Analysis
